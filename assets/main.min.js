$(function () {
    setTimeout(removeloading(), 21000);

    $(window).focus(function () {
        $('title').text($("meta[property='og:title']").attr("content"))
    });


    $(window).blur(function () {
        $('title').text('Miss You, come back!!')
    });

    //load background images
    $("section[data-bgimage]").each(function () {
        $(this).css('background-image', 'url(' + $(this).attr("data-bgimage") + ')');
    });

    //Header scripts
    $("body").on("click", ".burguermenu", function () {
        $(".main-headerWrapper").toggleClass("menu-active");
    });

    $("body").on("click", ".searchbar-js", function () {
        $(".main-headerWrapper_searchBar").slideToggle(500);
    });

    $("body").on("click", ".main-headerWrapper_searchBar_container .close", function () {
        $(".main-headerWrapper_searchBar").slideUp(1000);
    })

    $("body").on("keyup", ".footer_newsletter_form input", function () {
        let inputValue = $(this).val();
        let butonsend = $(".footer_newsletter_form button")
        if (validateEmail(inputValue)) {
            butonsend.prop("disabled", false);
        } else {
            butonsend.prop("disabled", true);
        }

    })


    //sliders


    if ($("#slider_component_3rows").length > 0) {
        new Splide('#slider_component_3rows', {
            type: 'slide',
            perPage: 3,
            pagination: false,
            breakpoints: {
                900: {
                    perPage: 2,
                    type: 'loop',
                    arrows: true,

                },
                640: {
                    type: 'loop',
                    perPage: 1,
                },

            }
        }).mount();
    }

    function removeloading() {
        $(".loadingPage").fadeOut(2000);
    }



    function validateEmail(email) {
        const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(String(email).toLowerCase());
    }


});
